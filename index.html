<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.13.1/lodash.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/css/bootstrap-datepicker.standalone.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/locales/bootstrap-datepicker.en-GB.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.2/js.cookie.min.js"></script>

    <script src="settings.js"></script>
    <script src="togl.js"></script>

    <script id="projectSum" type="text/x-handlebars-template">
      <div class='container'>
        <div class='col-md-2'><b>{{projectName}}</b></div>
        <div class='col-md-1'><b>{{durationTotal}}h</b></div>
        <div class='col-md-9'>
          {{{durationDetails}}}
        </div>
      </div><hr>
    </script>

    <style>
      body {
        padding: 20px
      }
    </style>
    <script>
    $(function() {
      var weekStart = moment().startOf('week').add(1, 'd').format('DD-MM-YYYY');
      var weekEnd = moment().endOf('week').add(-1, 'd').format('DD-MM-YYYY');
      $('#apiKey').val(Cookies.get('toggleApiKey'));
      $('#startDate').val(weekStart);
      $('#endDate').val(weekEnd);
      $('#form').submit(function(event) {
        event.preventDefault();
        generateReport();
      });
    });
    </script>
  </head>
  <body class="container">
    <div class="container col-md-10" id="loader" style="display: none">
      <img src="loader.gif" style="margin: 0 auto" class="img-responsive">
    </div>

    <div class="container">
      <form class="form-horizontal" role="form" id="form">
        <div class="form-group">
          <label for="inputType" class="col-md-2 control-label">Api Key</label>
          <div class="col-md-6">
              <input type="text" class="form-control" id="apiKey" placeholder="toggl api key">
          </div>
        </div>
        <div class="form-group">
            <span class="col-md-2 control-label">Date range</span>
            <div class="col-md-6">
                <div class="form-group row">
                    <label for="inputKey" class="col-md-2 control-label">Start date</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="startDate" data-provide="datepicker">
                    </div>
                    <label for="inputValue" class="col-md-2 control-label">End date</label>
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="endDate" data-provide="datepicker">
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group col-md-9 center-block">
          <button type="submit" class="btn btn-primary btn-lg btn-block">Get report</button>
        </div>
      </form>
    </div>

    <div id="out" class="col-md-9" style="display: none"></div>
  </body>
</html>
